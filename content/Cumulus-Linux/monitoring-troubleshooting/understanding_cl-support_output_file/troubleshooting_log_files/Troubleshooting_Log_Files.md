# Troubleshooting Log Files

The only real unique entity for logging on Cumulus Linux compared to any
other Linux distribution is `switchd.log`, which logs the HAL (hardware
abstraction layer) from hardware like the Broadcom or Mellanox ASIC.

[This guide on
NixCraft](http://www.cyberciti.biz/faq/linux-log-files-location-and-how-do-i-view-logs-files/)
is amazing for understanding how `/var/log` works. The green highlighted
rows below are the most important logs and usually looked at first when
debugging.

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Log</th>
<th>Description</th>
<th>Why is this important?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>/var/log/alternatives.log</td>
<td>Information from the update-alternatives are logged into this log file.</td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/apt</td>
<td>Information the <code>apt</code> utility can send logs here; for example, from <code>apt-get install</code> and <code>apt-get remove</code>.</td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/audit/*</td>
<td>Contains log information stored by the Linux audit daemon, <code>auditd</code>.</td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/auth.log</td>
<td><p>Authentication logs.</p>
<p>Note that Cumulus Linux does not write to this log file; but because it's a standard file, Cumulus Linux creates it as a zero length file.</p></td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/autoprovision</td>
<td>Logs output generated by running the <a href="Zero_Touch_Provisioning_-_ZTP">zero touch provisioning</a> script.</td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/boot.log</td>
<td>Contains information that is logged when the system boots.</td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/btmp</td>
<td><p>This file contains information about failed login attempts. Use the <code>last</code> command to view the <code>btmp</code> file. For example:</p>
<div class="code panel pdl" style="border-width: 1px;">
<div class="codeContent panelContent pdl">
<pre class="plain" data-syntaxhighlighter-params="brush: plain; gutter: false; theme: Confluence" data-theme="Confluence" style="brush: plain; gutter: false; theme: Confluence"><code>cumulus@switch:~$ last -f /var/log/btmp | more</code></pre>
</div>
</div></td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/clagd.log</td>
<td>Logs status of the <a href="Multi-Chassis_Link_Aggregation_-_MLAG"><code>clagd</code> service</a>.</td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/dmesg</td>
<td><p>Contains kernel ring buffer information. When the system boots up, it prints number of messages on the screen that display information about the hardware devices that the kernel detects during boot process. These messages are available in the kernel ring buffer and whenever a new message arrives, the old message gets overwritten. You can also view the content of this file using the <code>dmesg</code> command.</p>
<p>Note that Cumulus Linux does not write to this log file; but because it's a standard file, Cumulus Linux creates it as a zero length file.</p></td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/dpkg.log</td>
<td>Contains information that is logged when a package is installed or removed using the <code>dpkg</code> command.</td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/faillog</td>
<td><p>Contains failed user login attempts. Use the <code>faillog</code> command to display the contents of this file.</p>
<p>Note that Cumulus Linux does not write to this log file; but because it's a standard file, Cumulus Linux creates it as a zero length file.</p></td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/fsck/*</td>
<td><p>The <code>fsck</code> utility is used to check and optionally repair one or more Linux filesystems.</p>
<p>Note that Cumulus Linux does not write to this log file; but because it's a standard file, Cumulus Linux creates it as a zero length file.</p></td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/installer/*</td>
<td>Directory containing files related to the installation of Cumulus Linux.</td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/lastlog</td>
<td>Formats and prints the contents of the last login log file.</td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/netd.log</td>
<td>Log file for <a href="Network_Command_Line_Utility_-_NCLU">NCLU</a>.</td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/news/*</td>
<td><p>The <code>news</code> command keeps you informed of news concerning the system.</p>
<p>Note that Cumulus Linux does not write to this log file; but because it's a standard file, Cumulus Linux creates it as a zero length file.</p></td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/ntpstats</td>
<td>Logs for network configuration protocol.</td>
<td> </td>
</tr>
<tr class="even">
<td>/var/log/openvswitch/*</td>
<td><code>ovsdb-server</code> logs.</td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/frr/*</td>
<td>Logs for FRRouting.</td>
<td>This is how Cumulus Networks troubleshoots routing. For example an md5 or mtu mismatch with OSPF.</td>
</tr>
<tr class="even">
<td>/var/log/rdnbrd.log</td>
<td>Logs for <a href="Redistribute_Neighbor">redistribute neighbor</a>.</td>
<td> </td>
</tr>
<tr class="odd">
<td>/var/log/snapper.log</td>
<td>Log file for <a href="Using_Snapshots">snapshots</a>.</td>
<td>These logs are valuable for the snapshots you take on your switch.</td>
</tr>
<tr class="even">
<td>/var/log/switchd.log</td>
<td>The HAL log for Cumulus Linux.</td>
<td>This is specific to Cumulus Linux. Any <code>switchd</code> crashes are logged here.</td>
</tr>
<tr class="odd">
<td>/var/log/syslog</td>
<td>The main system log, which logs everything except auth-related messages.</td>
<td>The primary log; it's easiest to <code>grep</code> this file to see what occurred during a problem.</td>
</tr>
<tr class="even">
<td>/var/log/wtmp </td>
<td>Login records file.</td>
<td> </td>
</tr>
</tbody>
</table>
