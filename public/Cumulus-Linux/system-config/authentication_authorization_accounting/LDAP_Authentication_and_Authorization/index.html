<!DOCTYPE html><html>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L D a P Authentication and Authorization | Cumulus Networks Documentation</title>

<link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">
<link rel="stylesheet" href="/normalize.min.css">

<link rel="stylesheet" href="/book.min.20b2cb98a9208e1e7497525a9f78f7f8eb0ca4b5f4551e9610f12c5b317e6be8.css">

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav role="navigation">
<h2 class="book-brand">
  <a href="http://example.org/">Cumulus Networks Documentation</a>
</h2>



    


  
  
    
  
 
  <ul>
    
    <li><a href="/Cumulus-Linux/installation-management/">
    Installation Management</a> 
  <ul>
    

    
    <li>
      <a href="/Cumulus-Linux/installation-management/Adding_and_Updating_Packages/">Adding and Updating Packages</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/installation-management/Installing_a_New_Cumulus_Linux_Image/">Installing a New Cumulus Linux Image</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/installation-management/Managing_Cumulus_Linux_Disk_Images/">Managing Cumulus Linux Disk Images</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/installation-management/Upgrading_Cumulus_Linux/">Upgrading Cumulus Linux</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/installation-management/Using_Snapshots/">Using Snapshots</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/installation-management/Zero_Touch_Provisioning_-_ZTP/">Zero Touch Provisioning Z T P</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/Cumulus-Linux/layer1-switch-ports/">
    Layer1 Switch Ports</a> 
  <ul>
    

    
    <li>
      <a href="/Cumulus-Linux/layer1-switch-ports/802.1X_Interfaces/">802.1 X Interfaces</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer1-switch-ports/Buffer_and_Queue_Management/">Buffer and Queue Management</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer1-switch-ports/DHCP_Relays/">D H C P Relays</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer1-switch-ports/DHCP_Servers/">D H C P Servers</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer1-switch-ports/Facebook_Voyager_Optical_Interfaces/">Facebook Voyager Optical Interfaces</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer1-switch-ports/Prescriptive_Topology_Manager_-_PTM/">Prescriptive Topology Manager P T M</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer1-switch-ports/interface_configuration_and_management/Interface_Configuration_and_Management/">Interface Configuration and Management</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer1-switch-ports/interface_configuration_and_management/switch_port_attributes/Switch_Port_Attributes/">Switch Port Attributes</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/Cumulus-Linux/layer2/">
    Layer2</a> 
  <ul>
    

    
    <li>
      <a href="/Cumulus-Linux/layer2/Copy_of_Prescriptive_Topology_Manager_-_PTM/">Copy of Prescriptive Topology Manager P T M</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/Copy_of_Spanning_Tree_and_Rapid_Spanning_Tree/">Copy of Spanning Tree and Rapid Spanning Tree</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/Ethernet_Bridging_-_VLANs/">Ethernet Bridging v L a Ns</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/IGMP_and_MLD_Snooping/">I G M P and M L D Snooping</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/LACP_Bypass/">L a C P Bypass</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/Link_Layer_Discovery_Protocol/">Link Layer Discovery Protocol</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/Multi-Chassis_Link_Aggregation_-_MLAG/">Multi Chassis Link Aggregation M L a G</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/Spanning_Tree_and_Rapid_Spanning_Tree/">Spanning Tree and Rapid Spanning Tree</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/Virtual_Router_Redundancy_-_VRR/">Virtual Router Redundancy v R R</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/bonding_link_aggregation/Bonding_-_Link_Aggregation/">Bonding Link Aggregation</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/ethernet_bridging_vlans/Traditional_Bridge_Mode/">Traditional Bridge Mode</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/ethernet_bridging_vlans/VLAN-aware_Bridge_Mode/">V L a N Aware Bridge Mode</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/ethernet_bridging_vlans/VLAN_Tagging/">V L a N Tagging</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/link_layer_discovery_protocol/voice_vlan/Voice_VLAN/">Voice v L a N</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer2/virtual_router_redundancy/ifplugd/ifplugd/">Ifplugd</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/Cumulus-Linux/layer3/">
    Layer3</a> 
  <ul>
    

    
    <li>
      <a href="/Cumulus-Linux/layer3/Address_Resolution_Protocol_-_ARP/">Address Resolution Protocol a R P</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Bidirectional_Forwarding_Detection_-_BFD/">Bidirectional Forwarding Detection B F D</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Border_Gateway_Protocol_-_BGP/">Border Gateway Protocol B G P</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Configuring_FRRouting/">Configuring F R Routing</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Equal_Cost_Multipath_Load_Sharing_-_Hardware_ECMP/">Equal Cost Multipath Load Sharing Hardware E C M P</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/FRRouting_Overview/">F R Routing Overview</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/GRE_Tunneling/">G R E Tunneling</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Introduction_to_Routing_Protocols/">Introduction to Routing Protocols</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Management_VRF/">Management v R F</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Network_Topology/">Network Topology</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Open_Shortest_Path_First_-_OSPF/">Open Shortest Path First O S P F</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Open_Shortest_Path_First_v3_-_OSPFv3/">Open Shortest Path First V3 O S P Fv3</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Policy-based_Routing/">Policy Based Routing</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Protocol_Independent_Multicast_-_PIM/">Protocol Independent Multicast P I M</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Redistribute_Neighbor/">Redistribute Neighbor</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Routing/">Routing</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Segment_Routing/">Segment Routing</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/Virtual_Routing_and_Forwarding_-_VRF/">Virtual Routing and Forwarding v R F</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/configuring_frrouting/comparing_nclu_and_vtysh_commands/Comparing_NCLU_and_vtysh_Commands/">Comparing N C L U and Vtysh Commands</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/layer3/frrouting_overview/Upgrading_from_Quagga_to_FRRouting/">Upgrading From Quagga to F R Routing</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/Cumulus-Linux/monitoring-troubleshooting/">
    Monitoring Troubleshooting</a> 
  <ul>
    

    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/ASIC_Monitoring/">A S I C Monitoring</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/FRRouting_Log_Message_Reference/">F R Routing Log Message Reference</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Monitoring_Best_Practices/">Monitoring Best Practices</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Monitoring_System_Hardware/">Monitoring System Hardware</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Monitoring_Virtual_Device_Counters/">Monitoring Virtual Device Counters</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Network_Troubleshooting/">Network Troubleshooting</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Resource_Diagnostics_Using_cl-resource-query/">Resource Diagnostics Using Cl Resource Query</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Simple_Network_Management_Protocol_SNMP_Monitoring/">Simple Network Management Protocol S N M P Monitoring</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Single_User_Mode_-_Boot_Recovery/">Single User Mode Boot Recovery</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Troubleshooting_Network_Interfaces/">Troubleshooting Network Interfaces</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/Understanding_the_cl-support_Output_File/">Understanding the Cl Support Output File</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/monitoring_system_hardware/network_switch_port_led_and_stats_led/Network_Switch_Port_LED_and_Status_LED_Guidelines/">Network Switch Port L E D and Status L E D Guidelines</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/network_troubleshooting/monitoring_system_statistics/Monitoring_System_Statistics_and_Network_Traffic_with_sFlow/">Monitoring System Statistics and Network Traffic With S Flow</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/network_troubleshooting/using_nclu_to_troubleshoot/Using_NCLU_to_Troubleshoot_Your_Network_Configuration/">Using N C L U to Troubleshoot Your Network Configuration</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/simple_network_management/using_nutanix_prisim_as_monitoring_tool/Using_Nutanix_Prism_as_a_Monitoring_Tool/">Using Nutanix Prism as a Monitoring Tool</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/switchd_Log_Message_Reference/">Switchd Log Message Reference</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/troubleshooting_network_interfaces/monitoring_interfaces_and_transcievers_using_ethtool/Monitoring_Interfaces_and_Transceivers_Using_ethtool/">Monitoring Interfaces and Transceivers Using Ethtool</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/understanding_cl-support_output_file/troubleshooting_log_files/Troubleshooting_Log_Files/">Troubleshooting Log Files</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/monitoring-troubleshooting/understanding_cl-support_output_file/troubleshooting_the_etc_directory/Troubleshooting_the_etc_Directory/">Troubleshooting the Etc Directory</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/Cumulus-Linux/network-solutions/">
    Network Solutions</a> 
  <ul>
    

    
    <li>
      <a href="/Cumulus-Linux/network-solutions/Anycast_Design_Guide/">Anycast Design Guide</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-solutions/Cumulus_Hyperconverged_Solution_with_Nutanix/">Cumulus Hyperconverged Solution With Nutanix</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-solutions/Cumulus_Networks_Services_Demos/">Cumulus Networks Services Demos</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-solutions/Data_Center_Host_to_ToR_Architecture/">Data Center Host to to R Architecture</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-solutions/Docker_on_Cumulus_Linux/">Docker on Cumulus Linux</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-solutions/OpenStack_Neutron_ML2_and_Cumulus_Linux/">Open Stack Neutron M L2 and Cumulus Linux</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-solutions/RDMA_over_Converged_Ethernet_-_RoCE/">R D M a Over Converged Ethernet Ro C E</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/Cumulus-Linux/network-visualization/">
    Network Visualization</a> 
  <ul>
    

    
    <li>
      <a href="/Cumulus-Linux/network-visualization/Eng_Update_of_VXLAN_Hyperloop/">Eng Update of v X L a N Hyperloop</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/Ethernet_Virtual_Private_Network_-_EVPN/">Ethernet Virtual Private Network E v P N</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/Hybrid_Cloud_Connectivity_with_QinQ_and_VXLANs/">Hybrid Cloud Connectivity With Qin Q and v X L a Ns</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/LNV_Full_Example/">L N v Full Example</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/Lightweight_Network_Virtualization_Overview/">Lightweight Network Virtualization Overview</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/Static_VXLAN_Configurations/">Static v X L a N Configurations</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/VXLAN_Routing/">V X L a N Routing</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/VXLAN_Scale/">V X L a N Scale</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/VXLAN_Tunnel_DSCP_Operations__DRAFT/">V X L a N Tunnel D S C P Operations — D R a F T</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/Virtualization_Integrations/">Virtualization Integrations</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/static_vxlan_configurations/static_mac_bindings/Static_MAC_Bindings_with_VXLAN/">Static M a C Bindings With v X L a N</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/static_vxlan_configurations/static_vxlan_tunnels/Static_VXLAN_Tunnels/">Static v X L a N Tunnels</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/virtualization_integrations/integrating_hardware_vteps_vmware_nsx-mh/Integrating_Hardware_VTEPs_with_VMware_NSX-MH/">Integrating Hardware v T E Ps With v Mware N S X M H</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/virtualization_integrations/integrating_vteps_midonet_openstack/Integrating_Hardware_VTEPs_with_Midokura_MidoNet_and_OpenStack/">Integrating Hardware v T E Ps With Midokura Mido Net and Open Stack</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/virtualization_integrations/integrating_vteps_vmware_nsx-v/Integrating_Hardware_VTEPs_with_VMware_NSX-V/">Integrating Hardware v T E Ps With v Mware N S X V</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/network-visualization/virtualization_integrations/ovsdb_server_high_availability/OVSDB_Server_High_Availability/">O v S D B Server High Availability</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/Cumulus-Linux/system-config/">
    System Config</a> 
  <ul>
    

    
    <li>
      <a href="/Cumulus-Linux/system-config/Authentication_Authorization_and_Accounting/">Authentication Authorization and Accounting</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/Configuring_a_Global_Proxy/">Configuring a Global Proxy</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/Configuring_switchd/">Configuring Switchd</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/Copy_of_Netfilter_-_ACLs/">Copy of Netfilter a C Ls</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/HTTP_API/">H T T P a P I</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/Netfilter_-_ACLs/">Netfilter a C Ls</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/Network_Command_Line_Utility_-_NCLU/">Network Command Line Utility N C L U</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/Power_over_Ethernet_-_PoE/">Power Over Ethernet Po E</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/Services_and_Daemons_in_Cumulus_Linux/">Services and Daemons in Cumulus Linux</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/Setting_Date_and_Time/">Setting Date and Time</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/authentication_authorization_accounting/LDAP_Authentication_and_Authorization/" class="active">L D a P Authentication and Authorization</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/authentication_authorization_accounting/RADIUS_AAA/">R a D I U S a a A</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/authentication_authorization_accounting/SSH_for_Remote_Access/">S S H for Remote Access</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/authentication_authorization_accounting/TACACS_Plus/">T a C a C S Plus</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/authentication_authorization_accounting/User_Accounts/">User Accounts</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/authentication_authorization_accounting/Using_sudo_to_Delegate_Privileges/">Using Sudo to Delegate Privileges</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/netfilter_acls/default_cumulus_linux_acl_config/Default_Cumulus_Linux_ACL_Configuration/">Default Cumulus Linux a C L Configuration</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/system-config/netfilter_acls/default_cumulus_linux_acl_config/Filtering_Learned_MAC_Addresses/">Filtering Learned M a C Addresses</a>
    </li>
    
  </ul>

    </li>
    

    
    <li>
      <a href="/Cumulus-Linux/whats-new/">What&#39;s New</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/cumulus-linux-index/Cumulus_Linux_Index/">Cumulus Linux Index</a>
    </li>
    
    <li>
      <a href="/Cumulus-Linux/quick-start/Quick_Start_Guide/">Quick Start Guide</a>
    </li>
    
  </ul>
 
  <ul>
    
    <li><a href="/NetQ/Cumulus_NetQ_UI_User_Guide/">
    Cumulus Net Q U I User Guide</a> 
  <ul>
    
    <li><a href="/NetQ/Cumulus_NetQ_UI_User_Guide/monitor_the_network/">
    Monitor the Network</a> 
  <ul>
    

    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/monitor_the_network/Monitor_Alarm_Events/">Monitor Alarm Events</a>
    </li>
    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/monitor_the_network/Monitor_Informational_Events/">Monitor Informational Events</a>
    </li>
    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/monitor_the_network/Monitor_Network_Health/">Monitor Network Health</a>
    </li>
    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/monitor_the_network/Monitor_Network_Inventory/">Monitor Network Inventory</a>
    </li>
    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/monitor_the_network/Monitor_Network_Protocols_and_Services/">Monitor Network Protocols and Services</a>
    </li>
    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/monitor_the_network/NetQ_User_Interface_Overview/">Net Q User Interface Overview</a>
    </li>
    
  </ul>

    </li>
    

    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/Monitor_Switches/">Monitor Switches</a>
    </li>
    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/NetQ_User_Interface_Overview/">Net Q User Interface Overview</a>
    </li>
    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/UI_Preface/">U I Preface</a>
    </li>
    
    <li>
      <a href="/NetQ/Cumulus_NetQ_UI_User_Guide/Validate_Network_Protocol_and_Service_Operations/">Validate Network Protocol and Service Operations</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/NetQ/cli_user_guide/">
    Cli User Guide</a> 
  <ul>
    

    
    <li>
      <a href="/NetQ/cli_user_guide/CLI_Preface/CLI_Preface/">C L I Preface</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/automate_common_tasks/Automate_Common_and_Repetitive_Tasks/">Automate Common and Repetitive Tasks</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/command_line_overview/NetQ_Command_Line_Overview/">Net Q Command Line Overview</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/monitor_containter_environments/Monitor_Container_Environments/">Monitor Container Environments</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/monitor_data_link_layer/Monitor_Data_Link_Layer_Devices_and_Protocols/">Monitor Data Link Layer Devices and Protocols</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/monitor_linux_hosts/Monitor_Linux_Hosts/">Monitor Linux Hosts</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/monitor_network_health/Monitor_Overall_Network_Health/">Monitor Overall Network Health</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/monitor_network_layer/Monitor_Network_Protocols_and_Services/">Monitor Network Protocols and Services</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/monitor_physical_layer/Monitor_Physical_Layer_Components/">Monitor Physical Layer Components</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/monitor_switch_hardware/Monitor_Switch_Hardware_and_Software/">Monitor Switch Hardware and Software</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/monitor_virtual_overlays/Monitor_Virtual_Network_Overlays/">Monitor Virtual Network Overlays</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/resolve_issues/Resolve_Issues/">Resolve Issues</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/resolve_issues/Resolve_MLAG_Issues/">Resolve M L a G Issues</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/resolve_issues/investiage_netq_issues/Investigate_NetQ_Issues/">Investigate Net Q Issues</a>
    </li>
    
    <li>
      <a href="/NetQ/cli_user_guide/resolve_issues/methods_for_diagnosing_issues/Methods_for_Diagnosing_Network_Issues/">Methods for Diagnosing Network Issues</a>
    </li>
    
  </ul>

    </li>
    
    <li><a href="/NetQ/deployment_guide/">
    Deployment Guide</a> 
  <ul>
    

    
    <li>
      <a href="/NetQ/deployment_guide/config_optional_netq/Configuring_Optional_NetQ_Capabilities/">Configuring Optional Net Q Capabilities</a>
    </li>
    
    <li>
      <a href="/NetQ/deployment_guide/deployment_preface/Deployment_Preface/">Deployment Preface</a>
    </li>
    
    <li>
      <a href="/NetQ/deployment_guide/install_netq/Install_NetQ/">Install Net Q</a>
    </li>
    
    <li>
      <a href="/NetQ/deployment_guide/maintain_netq/Maintain_NetQ/">Maintain Net Q</a>
    </li>
    
    <li>
      <a href="/NetQ/deployment_guide/netq_primer/Cumulus_NetQ_Primer/">Cumulus Net Q Primer</a>
    </li>
    
  </ul>

    </li>
    

    
    <li>
      <a href="/NetQ/Release_Notes/Cumulus_NetQ_2.0_Release_Notes/">Cumulus Net Q 2.0 Release Notes</a>
    </li>
    
    <li>
      <a href="/NetQ/getting_started/Getting_Started_with_the_Cumulus_NetQ_Appliance/">Getting Started With the Cumulus Net Q Appliance</a>
    </li>
    
    <li>
      <a href="/NetQ/software_installation_guide/Cumulus_NetQ_Appliance_Software_Installation_Guide/">Cumulus Net Q Appliance Software Installation Guide</a>
    </li>
    
  </ul>








</nav>

    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" />
  </label>
  <strong>L D a P Authentication and Authorization</strong>
</header>

      
<article class="markdown">

<h1 id="ldap-authentication-and-authorization">LDAP Authentication and Authorization</h1>

<p>Cumulus Linux uses Pluggable Authentication Modules (PAM) and Name
Service Switch (NSS) for user authentication.</p>

<p>NSS specifies the order of information sources used to resolve names for
each service. Using this with authentication and authorization, it
provides the order and location used for user lookup and group mapping
on the system. PAM handles the interaction between the user and the
system, providing login handling, session setup, authentication of
users, and authorization of user actions.</p>

<p>NSS enables PAM to use LDAP to provide user authentication, group
mapping, and information for other services on the system.</p>

<h2 id="contents">Contents</h2>

<p><img src="images/icons/grey_arrow_down.png" alt="" />{.expand-control-image}This topic
describes &hellip;</p>

<ul>
<li><a href="#LDAPAuthenticationandAuthorization-ConfigureLDAPAuthentication">Configure LDAP
Authentication</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-Installlibnss-ldapd">Install
libnss-ldapd</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-Configurenslcd.conf">Configure
nslcd.conf</a>

<ul>
<li><a href="#LDAPAuthenticationandAuthorization-Connection">Connection</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-SearchFunction">Search
Function</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-SearchFilters">Search
Filters</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-AttributeMapping">Attribute
Mapping</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-ExampleConfiguration">Example
Configuration</a></li>
</ul></li>
<li><a href="#LDAPAuthenticationandAuthorization-Troubleshooting">Troubleshooting</a>

<ul>
<li><a href="#LDAPAuthenticationandAuthorization-nslcdDebugMode">nslcd Debug
Mode</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-CommonProblems">Common
Problems</a></li>
</ul></li>
<li><a href="#LDAPAuthenticationandAuthorization-ConfigureLDAPAuthorization">Configure LDAP
Authorization</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-ActiveDirectoryConfiguration">Active Directory
Configuration</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-LDAPVerificationTools">LDAP Verification
Tools</a>

<ul>
<li><a href="#LDAPAuthenticationandAuthorization-IdentifyaUserwiththeidCommand">Identify a User with the id
Command</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-getent">getent</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-LDAPsearch">LDAP search</a></li>
<li><a href="#LDAPAuthenticationandAuthorization-LDAPBrowsers">LDAP
Browsers</a></li>
</ul></li>
<li><a href="#LDAPAuthenticationandAuthorization-RelatedInformation">Related
Information</a></li>
</ul>

<h2 id="configure-ldap-authentication">Configure LDAP Authentication</h2>

<p>There are 3 common ways to configure LDAP authentication on Linux:</p>

<ul>
<li>libnss-ldap</li>
<li>libnss-ldapd</li>
<li>libnss-sss</li>
</ul>

<p>This chapter describes using <code>libnss-ldapd</code> only. From internal testing,
this library worked best with Cumulus Linux and is the easiest to
configure, automate, and troubleshoot. </p>

<h2 id="install-libnss-ldapd">Install libnss-ldapd</h2>

<p>The <code>libpam-ldapd</code> package depends on <code>nslcd</code>. To
install <code>libnss-ldapd</code>, <code>libpam-ldapd</code>, and <code>ldap-utils</code>, run the
following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ sudo apt-get install libnss-ldapd libpam-ldapd ldap-utils nslcd</code></pre></div>
<p>Follow the interactive prompts to answer questions about the LDAP URI,
search base distinguished name (DN), and services that must have LDAP
lookups enabled. This creates a very basic LDAP configuration using
anonymous bind and initiates user search under the base DN specified. </p>

<p>Alternatively, you can pre-seed these parameters using the
<code>debconf-utils</code>. To use this method,
run <code>apt-get install debconf-utils</code> and create the pre-seeded parameters
using <code>debconf-set-selections</code> with the appropriate answers.
Run <code>debconf-show &lt;pkg&gt;</code> to check the settings. Here is an <a href="attachments/8362556/8362555.txt">example of
how to pre-seed answers to the installer questions
using <code>debconf-set-selections</code></a> .</p>

<p>After the install is complete, the <em>name service LDAP caching daemon</em>
(<code>nslcd</code>) runs. This service handles all of the LDAP protocol
interactions and caches information returned from the LDAP server. In
the <code>/etc/nsswitch.conf</code> file, <code>ldap</code><strong> </strong>is appended and is the
secondary information source for <em>passwd</em>, <em>group</em>, and <em>shadow</em>. The
local files (<code>/etc/passwd</code>, <code>/etc/groups</code> and <code>/etc/shadow</code>) are used
first, as specified by the <code>compat</code> source.</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">passwd: compat ldap
group: compat ldap
shadow: compat ldap</code></pre></div>
<p>Cumulus Networks recommends that you keep <code>compat</code> as the first source
in NSS for <em>passwd</em>, <em>group</em>, and <em>shadow</em>. This prevents you from
getting locked out of the system.</p>

<h2 id="configure-nslcd-conf">Configure nslcd.conf</h2>

<p>After installation, you need to update the main configuration file
(<code>/etc/nslcd.conf</code>) to accommodate the expected LDAP server settings.
The <a href="http://linux.die.net/man/5/nslcd.conf">nslcd.conf man page</a> details
all the available configuration options. Some of the more important
options relate to security and how the queries are handled.</p>

<h3 id="connection">Connection</h3>

<p>The LDAP client starts a session by connecting to the LDAP server
on TCP and UDP port 389, or on port 636 for LDAPS. Depending on the
configuration, this connection might be unauthenticated (anonymous
bind); otherwise, the client must provide a bind user and password. The
variables used to define the connection to the LDAP server are the URI
and bind credentials.</p>

<p>The URI is mandatory and specifies the LDAP server location using the
FQDN or IP address. The URI also designates whether to use <code>ldap://</code> for
clear text transport, or <code>ldaps://</code> for SSL/TLS encrypted transport. You
can also specify an alternate port in the URI. Typically, in production
environments, it is best to utilize the LDAPS protocol; otherwise, all
communications are clear text and not secure.</p>

<p>After the connection to the server is complete, the BIND operation
authenticates the session. The BIND credentials are optional, and if not
specified, an anonymous bind is assumed. This is typically not allowed
in most production environments. Configure authenticated (Simple) BIND
by specifying the user (<em>binddn</em>) and password (<em>bindpw</em>) in the
configuration. Another option is to use SASL (Simple Authentication and
Security Layer) BIND, which provides authentication services using other
mechanisms, like Kerberos. Contact your LDAP server administrator for
this information as it depends on the configuration of the LDAP server
and the credentials that are created for the client device.</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text"># The location at which the LDAP server(s) should be reachable.
uri ldaps://ldap.example.com
# The DN to bind with for normal lookups.
binddn cn=CLswitch,ou=infra,dc=example,dc=com
bindpw CuMuLuS</code></pre></div>
<h3 id="search-function">Search Function</h3>

<p>When an LDAP client requests information about a resource, it must
connect and bind to the server. Then, it performs one or more resource
queries depending on the lookup. All search queries sent to the LDAP
server are created using the configured search <em>base</em>, <em>filter</em>, and the
desired entry (<em>uid=myuser</em>) being searched. If the LDAP directory is
large, this search might take a significant amount of time. It is a good
idea to define a more specific search base for the common <em>maps</em>
(<em>passwd</em> and <em>group</em>). </p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text"># The search base that will be used for all queries.
base dc=example,dc=com
# Mapped search bases to speed up common queries.
base passwd ou=people,dc=example,dc=com
base group ou=groups,dc=example,dc=com</code></pre></div>
<h3 id="search-filters">Search Filters</h3>

<p>It is also common to use search filters to specify criteria used when
searching for objects within the directory. This is used to limit the
search scope when authenticating users. The default filters applied are:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">filter passwd (objectClass=posixAccount)
filter group (objectClass=posixGroup) </code></pre></div>
<h3 id="attribute-mapping">Attribute Mapping</h3>

<p>The <em>map</em> configuration allows you to override the attributes pushed
from LDAP. To override an attribute for a given <em>map</em>, specify the
attribute name and the new value. This is useful to ensure that the
shell is <em>bash</em> and the home directory is <code>/home/cumulus</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">map    passwd homeDirectory &#34;/home/cumulus&#34;
map    passwd shell &#34;/bin/bash&#34;</code></pre></div>
<p>In LDAP, the <strong><em>map</em></strong> refers to one of the supported maps specified in
the manpage for <code>nslcd.conf</code> (such as <em>passwd</em> or <em>group</em>).</p>

<h3 id="example-configuration">Example Configuration</h3>

<p>Here is an <a href="attachments/8362556/8362557.conf">example
configuration </a>using Cumulus Linux.</p>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="nslcd-debug-mode">nslcd Debug Mode</h3>

<p>When setting up LDAP authentication for the first time, Cumulus Networks
recommends you turn off the <code>nslcd</code> service using
the <code>systemctl stop nslcd.service</code> command and run it in debug mode.
Debug mode works whether you are using LDAP over SSL (port 636) or an
unencrypted LDAP connection (port 389).</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ sudo systemctl stop nslcd.service
cumulus@switch:~$ sudo nslcd -d</code></pre></div>
<p>After you enable debug mode, run the following command to test LDAP
queries:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ sudo getent myuser</code></pre></div>
<p>If LDAP is configured correctly, the following messages appear after you
run the <code>getent</code> command:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">nslcd: DEBUG: accept() failed (ignored): Resource temporarily unavailable
nslcd: [8e1f29] DEBUG: connection from pid=11766 uid=0 gid=0
nslcd: [8e1f29] &lt;passwd(all)&gt; DEBUG: myldap_search(base=&#34;dc=example,dc=com&#34;, filter=&#34;(objectClass=posixAccount)&#34;)
nslcd: [8e1f29] &lt;passwd(all)&gt; DEBUG: ldap_result(): uid=myuser,ou=people,dc=example,dc=com
nslcd: [8e1f29] &lt;passwd(all)&gt; DEBUG: ldap_result(): ... 152 more results
nslcd: [8e1f29] &lt;passwd(all)&gt; DEBUG: ldap_result(): end of results (162 total)</code></pre></div>
<p>In the output above, <em>&lt;passwd(all)&gt;</em> indicates that the entire
directory structure is queried.</p>

<p>You can query a specific user with the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ sudo getent passwd myuser</code></pre></div>
<p>You can replace *myuser* with any username on the switch. The following
debug output indicates that user <em>myuser</em> exists:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">nslcd: DEBUG: add_uri(ldap://10.50.21.101)
nslcd: version 0.8.10 starting
nslcd: DEBUG: unlink() of /var/run/nslcd/socket failed (ignored): No such file or directory
nslcd: DEBUG: setgroups(0,NULL) done
nslcd: DEBUG: setgid(110) done
nslcd: DEBUG: setuid(107) done
nslcd: accepting connections
nslcd: DEBUG: accept() failed (ignored): Resource temporarily unavailable
nslcd: [8b4567] DEBUG: connection from pid=11369 uid=0 gid=0
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: myldap_search(base=&#34;dc=cumulusnetworks,dc=com&#34;, filter=&#34;(&amp;(objectClass=posixAccount)(uid=myuser))&#34;)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_initialize(ldap://&lt;ip_address&gt;)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_set_rebind_proc()
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_set_option(LDAP_OPT_PROTOCOL_VERSION,3)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_set_option(LDAP_OPT_DEREF,0)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_set_option(LDAP_OPT_TIMELIMIT,0)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_set_option(LDAP_OPT_TIMEOUT,0)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_set_option(LDAP_OPT_NETWORK_TIMEOUT,0)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_set_option(LDAP_OPT_REFERRALS,LDAP_OPT_ON)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_set_option(LDAP_OPT_RESTART,LDAP_OPT_ON)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_simple_bind_s(NULL,NULL) (uri=&#34;ldap://&lt;ip_address&gt;&#34;)
nslcd: [8b4567] &lt;passwd=&#34;myuser&#34;&gt; DEBUG: ldap_result(): end of results (0 total)</code></pre></div>
<p>Notice how the <code>&lt;passwd=&quot;myuser&quot;&gt;</code> shows that the specific *myuser* user
was queried.</p>

<h3 id="common-problems">Common Problems</h3>

<h4 id="ssl-tls">SSL/TLS</h4>

<ul>
<li><p>The FQDN of the LDAP server URI does not match the FQDN in the
CA-signed server certificate exactly.</p></li>

<li><p><code>nslcd</code> cannot read the SSL certificate and reports a <em>Permission
denied</em> error in the debug during server connection negotiation.
Check the permission on each directory in the path of the root SSL
certificate. Ensure that it is readable by the <code>nslcd</code> user.</p></li>
</ul>

<h4 id="nscd">NSCD</h4>

<ul>
<li><p>If the <code>nscd cache</code> daemon is also enabled and you make some changes
to the user from LDAP, you can clear the cache using the following
commands:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">nscd --invalidate = passwd 
nscd --invalidate = group</code></pre></div></li>

<li><p>The <code>nscd</code> package works with <code>nslcd</code> to cache name entries returned
from the LDAP server. This might cause authentication failures. To
work around these issues:</p>

<ol>
<li><p>Disable <code>nscd</code> by running: </p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ sudo nscd -K</code></pre></div></li>

<li><p>Restart the <code>nslcd</code> service:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ sudo systemctl restart nslcd.service</code></pre></div></li>

<li><p>Try the authentication again. </p></li>
</ol></li>
</ul>

<h4 id="ldap">LDAP</h4>

<ul>
<li><p>The search filter returns wrong results. Check for typos in the
search filter. Use <code>ldapsearch</code> to test your filter. </p></li>

<li><p>Optionally, configure the basic LDAP connection and search
parameters in <code>/etc/ldap/ldap.conf</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text"># ldapsearch -D &#39;cn=CLadmin&#39; -w &#39;CuMuLuS&#39; &#34;(&amp;(ObjectClass=inetOrgUser)(uid=myuser))&#34;</code></pre></div></li>

<li><p>When a local username also exists in the LDAP database, the order of
the information sources in <code>/etc/nsswitch</code> can be updated to query
LDAP before the local user database. This is generally not
recommended. For example, the configuration below ensures that LDAP
is queried before the local database.</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text"># /etc/nsswitch.conf
passwd:         ldap compat</code></pre></div></li>
</ul>

<h2 id="configure-ldap-authorization">Configure LDAP Authorization</h2>

<p>Linux uses the <em>sudo</em> command to allow non-administrator users (such as
the default <em>cumulus</em> user account) to perform privileged operations. To
control the users authorized to use sudo, the <code>/etc/sudoers</code> file and
files located in the <code>/etc/sudoers.d/</code> directory have a series of rules
defined. Typically, the rules are based on groups, but can also be
defined for specific users. Therefore, sudo rules can be added using the
group names from LDAP. For example, if a group of users are associated
with the group <em>netadmin</em>, you can add a rule to give those users sudo
privileges. Refer to the sudoers manual (<code>man sudoers</code>) for a complete
usage description. Here&rsquo;s an illustration of this in <code>/etc/sudoers</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text"># The basic structure of a user specification is “who where = (as_whom) what”.
%sudo ALL=(ALL:ALL) ALL
%netadmin ALL=(ALL:ALL) ALL</code></pre></div>
<h2 id="active-directory-configuration">Active Directory Configuration</h2>

<p>Active Directory (AD) is a fully featured LDAP-based NIS server created
by Microsoft. It offers unique features that classic OpenLDAP servers
lack. Therefore, it can be more complicated to configure on the client
and each version of AD is a little different in how it works with
Linux-based LDAP clients. Some more advanced configuration examples,
from testing LDAP clients on Cumulus Linux with Active Directory
(AD/LDAP), are available in our <a href="https://support.cumulusnetworks.com/hc/en-us/articles/204383797">knowledge
base</a>.</p>

<h2 id="ldap-verification-tools">LDAP Verification Tools</h2>

<p>Typically, password and group information is retrieved from LDAP and
cached by the LDAP client daemon. To test the LDAP interaction, you can
use these command-line tools to trigger an LDAP query from the device.
This helps to create the best filters and verify the information sent
back from the LDAP server.</p>

<h3 id="identify-a-user-with-the-id-command">Identify a User with the id Command</h3>

<p>The <code>id</code> command performs a username lookup by following the lookup
information sources in NSS for the <em>passwd</em> service. This simply returns
the user ID, group ID and the group list retrieved from the information
source. In the following example, the user *cumulus* is locally defined
in <code>/etc/passwd</code>, and <em>myuser</em> is on LDAP. The NSS configuration has the
passwd map configured with the sources <code>compat ldap</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ id cumulus
uid=1000(cumulus) gid=1000(cumulus) groups=1000(cumulus),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev)
cumulus@switch:~$ id myuser 
uid=1230(myuser) gid=3000(Development) groups=3000(Development),500(Employees),27(sudo)</code></pre></div>
<h3 id="getent">getent</h3>

<p>The <code>getent</code> command retrieves all records found with NSS for a given
map. It can also get a specific entry under that map. You can perform
tests with the passwd, group, shadow, or any other map configured
in <code>/etc/nsswitch.conf</code>. The output from this command is formatted
according to the map requested. Therefore, for the passwd service, the
structure of the output is the same as the entries in <code>/etc/passwd</code>. The
group map outputs the same structure as <code>/etc/group</code>. In this
example, looking up a specific user in the passwd map, the
user *cumulus* is locally defined in <code>/etc/passwd</code>, and *myuser* is only
in LDAP.</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ getent passwd cumulus
cumulus:x:1000:1000::/home/cumulus:/bin/bash
cumulus@switch:~$ getent passwd myuser 
myuser:x:1230:3000:My Test User:/home/myuser:/bin/bash</code></pre></div>
<p>In the next example, looking up a specific group in the group
service, the group *cumulus* is locally defined in <code>/etc/groups</code>,
and *netadmin* is on LDAP.</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ getent group cumulus
cumulus:x:1000:
cumulus@switch:~$ getent group netadmin
netadmin:*:502:larry,moe,curly,shemp</code></pre></div>
<p>Running the command <code>getent passwd</code> or <code>getent group</code> without a specific
request returns <strong>all</strong> local and LDAP entries for
the *passwd* and *group* maps.</p>

<h3 id="ldap-search">LDAP search</h3>

<p>The <code>ldapsearch</code> command performs LDAP operations directly on the LDAP
server. This does not interact with NSS. This command helps display what
the LDAP daemon process is receiving back from the server. The command
has many options. The simplest uses anonymous bind to the host and
specifies the search DN and the attribute to look up.</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">cumulus@switch:~$ ldapsearch -H ldap://ldap.example.com -b dc=example,dc=com -x uid=myuser</code></pre></div>
<p><img src="images/icons/grey_arrow_down.png" alt="" />{.expand-control-image}Click to
expand the command output &hellip;</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text"># extended LDIF
#
# LDAPv3
# base &lt;dc=example,dc=com&gt; with scope subtree
# filter: uid=myuser
# requesting: ALL
#
# myuser, people, example.com
dn: uid=myuser,ou=people,dc=example,dc=com
cn: My User
displayName: My User
gecos: myuser
gidNumber: 3000
givenName: My
homeDirectory: /home/myuser
initials: MU
loginShell: /bin/bash
mail: myuser@example.com
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: shadowAccount
objectClass: top
shadowExpire: -1
shadowFlag: 0
shadowMax: 999999
shadowMin: 8
shadowWarning: 7
sn: User
uid: myuser
uidNumber: 1234

# search result
search: 2
result: 0 Success
      
# numResponses: 2
# numEntries: 1</code></pre></div>
<h3 id="ldap-browsers">LDAP Browsers</h3>

<p>There are several GUI LDAP clients available that help to work with LDAP
servers. These are free tools to help show the structure of the LDAP
database graphically.</p>

<ul>
<li><a href="http://directory.apache.org/studio/">Apache Directory Studio</a></li>
<li><a href="http://ldapmanager.sourceforge.net/">LDAPManager</a></li>
</ul>

<h2 id="related-information">Related Information</h2>

<ul>
<li><a href="https://wiki.debian.org/LDAP/NSS">Debian - configuring LDAP
authentication</a></li>
<li><a href="https://wiki.debian.org/LDAP/PAM">Debian - configuring PAM to use
LDAP</a></li>
<li><a href="https://raw.githubusercontent.com/arthurdejong/nss-pam-ldapd/master/nslcd.conf">GitHub - Arthur de Jong nslcd.conf
file</a></li>
<li><a href="http://backports.debian.org/Instructions/">Debian backports</a></li>
</ul>

<h2 id="attachments">Attachments:</h2>

<p><img src="images/icons/bullet_blue.gif" alt="" />{width=&ldquo;8&rdquo; height=&ldquo;8&rdquo;}
<a href="attachments/8362556/8362555.txt">kb_debconf.txt</a> (text/plain)<br />
<img src="images/icons/bullet_blue.gif" alt="" />{width=&ldquo;8&rdquo; height=&ldquo;8&rdquo;}
<a href="attachments/8362556/8362557.conf">nslcd.conf</a>
(application/octet-stream)</p>
</article>

      
<div class="align-center book-git-footer justify-between">
  
  <div>
    <a href="https://github.com/cawleyflower/testDocs/commit/0f1fa77f244c4b4642688df1f5e961e88daa6e08" title='Last modified March 4, 2019 16:11 EST by Cawleyflower' target="_blank" rel="noopener">
      <img src="/svg/code-merge.svg" /> Last Modified Mar 4, 2019
    </a>
  </div>
  
  
</div>


    </div>

    
  
  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#ldap-authentication-and-authorization">LDAP Authentication and Authorization</a>
<ul>
<li><a href="#contents">Contents</a></li>
<li><a href="#configure-ldap-authentication">Configure LDAP Authentication</a></li>
<li><a href="#install-libnss-ldapd">Install libnss-ldapd</a></li>
<li><a href="#configure-nslcd-conf">Configure nslcd.conf</a>
<ul>
<li><a href="#connection">Connection</a></li>
<li><a href="#search-function">Search Function</a></li>
<li><a href="#search-filters">Search Filters</a></li>
<li><a href="#attribute-mapping">Attribute Mapping</a></li>
<li><a href="#example-configuration">Example Configuration</a></li>
</ul></li>
<li><a href="#troubleshooting">Troubleshooting</a>
<ul>
<li><a href="#nslcd-debug-mode">nslcd Debug Mode</a></li>
<li><a href="#common-problems">Common Problems</a>
<ul>
<li><a href="#ssl-tls">SSL/TLS</a></li>
<li><a href="#nscd">NSCD</a></li>
<li><a href="#ldap">LDAP</a></li>
</ul></li>
</ul></li>
<li><a href="#configure-ldap-authorization">Configure LDAP Authorization</a></li>
<li><a href="#active-directory-configuration">Active Directory Configuration</a></li>
<li><a href="#ldap-verification-tools">LDAP Verification Tools</a>
<ul>
<li><a href="#identify-a-user-with-the-id-command">Identify a User with the id Command</a></li>
<li><a href="#getent">getent</a></li>
<li><a href="#ldap-search">LDAP search</a></li>
<li><a href="#ldap-browsers">LDAP Browsers</a></li>
</ul></li>
<li><a href="#related-information">Related Information</a></li>
<li><a href="#attachments">Attachments:</a></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
  
</body>

</html>
